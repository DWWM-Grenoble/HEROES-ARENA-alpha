.arena {
    @include card-base;
    padding: get($spacings, 2xl);
    text-align: center;
    border-radius: get($border-radius, xl);
}

.arena-header{
    margin-bottom: get($spacings, 2xl);

    h3{
        font-size: get($font-size, 3xl);
        font-weight: get($font-weights,bold);
        @include gradient-text;
        margin-bottom: get($spacings,md);
    }


    .arena-subtitle{
        color: $text-muted;
        font-size: get($font-size, lg);
    }
}

.fighter-selection{
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: get($spacings, 2xl);
    align-items: center;
    margin-bottom: get($spacings, 2xl);


    @include tablet{
        grid-template-columns: 1fr;
        gap: get($spacings,lg);
    }
}

.fighter-select{
    text-align: center;

    h4{
        color: $text-secondary;
        margin-bottom: get($spacings,md);
        font-weight: get($font-weights, semibold);
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }
}


.hero-selector{
    background: rgba(255,255,255,0.05);
    border: 2px solid rgba(255,255,255,0.1);
    border-radius: get($border-radius,md);
    padding: get($spacings,md);
    color:$text-primary;
    font-size: get($font-sizes, base);
    cursor: pointer;
    transition : all get($transitions, normal);
    width: 100%;

    &:focus{
        outline: none;
        border-color: $primary-gold;
        box-shadow: 0 0 0 4px rgba($primary-gold,0.2);
    }
}

.vs-divider{
    font-size: get($font-sizes,5xl);
    font-weight: get($font-weights, black);
    @include gradient-text;
    @include text-shadow-glow(rgba(0,0,0,0.3));

    @include tablet{
        transform: rotate(90deg);
        font-size: get($font-sizes, 3xl);
    }
}

.fighters-display{
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: get($spacings,2xl);
    align-items: center;
    margin: get($spacings,2xl) 0;

    @include tablet{
        grid-template-columns: 1fr;
        gap: get($spacings,lg);
    }
}

.fighter-display{
    text-align: center;
    padding: get($spacings,lg);
    background: rgba(255,255,255,0.05);
    border-radius: get($border-radius, lg);
    border: 1px solid rgba(255,255,255,0.1);
    transition: all get($transitions, normal);
    position: relative;

    // Etats de combat - effets plus subtils

    &.attacking{
        box-shadow: 
        0 0 25px rgba($error, 0.5),
        0 0 40px rgba($error, 0.3);
        border-color: $error;
    }

    &.defending{
        animation: defendPulse 0.6s ease-in-out;
    }

    &.victory{
        animation: victoryGlow 1.5s ease-in-out;
        border-color: $success;
    }

    &.defeat{
        animation: defeatFade 1.2s ease-in-out forwards;
    }
}

.fighter-avatar-large{
    width: 80px;
    height: 80px;
    margin: 0 auto get ($spacings, md);
    border-radius: get($border-radius, lg);
    background: $bg-class;
    @include flex-center;
    border: 2px solid rgba(255,255,255,0.2);
    position: relative;
    overflow: hidden;

    img{
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .avatar-placeholder{
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: $primary-gradient;
        border-radius: get($border-radius, lg)- 2;
        @include flex-center;
        color: $text-white;
        font-weight: get($font-weights, bold);
        font-size: get($font-sizes, 2xl);
        letter-spacing: 1px;
    }
}

.fighter-name{
    font-size: get($font-sizes,xl);
    font-weight: get($font-weights,bold);
    color: $text-primary;
    margin-bottom: get($spacings,ml);
}

.health-bar{
    background: $bg-glass;
    height: 24px;
    border-radius: get($border-radius,md);
    overflow: hidden;
    position: relative;
    margin-top: get($spacings,md);

    &::after{
        content:"";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg,transparent,rgba(255,255,255,0.3), transparent);
        animation: healthGlint 2s infinite;
    }
}

.health-fill{
    background: linear-gradient(90deg, $success, darken($success,10%));
    height:100%;
    border-radius: get($border-radius,md);
    transition: width 0.5s ease;
}

.health-text{
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
    font-weight:get($font-weights,bold);
    color: $text-white;
    font-size: get($font-sizes,sm);
    text-shadow: 0 2px 4px rgba(0,0,0,0.7);
}

// Additional arena classes

.arena-actions{
    margin: get($spacings, 2xl) 0;
}

.fight-btn{
    margin-right: get($spacings,lg);
}


.fighter-placeholder{
    color: $text-muted;
    font-size: get($font-sizes,4xl);
}

.hero-class-empty{
    background: rgba(255,255,255,0.1);
}

//Boutons d'arène stabilisés - règles spécifiques pour les boutons de combat

.arena.btn,
#fightBtn,
#createBtn,
.btn[onclick*="resetArena"],
.btn[onclick*="stopCombat"],
.btn[onclick*="randomStats"],
.btn[onclick*="createHeroFromForm"]{
// IMPORTANT Supprimer toutes les transformations qui causent des problèmes
    &:hover{
        transform: none !important;
//Effet visuel stable sans déplacement
        background: linear-gradient(135deg, #e6c15f 0%, #d4df37 50%, #e6c15f 100%);
        border-color: $primary-gold;
        box-shadow: 0 0 15px rgba(212,175,55,0.5),
        0 4px 12px rgba(0,0,0,0.3),
        inset 0 1px 0 rgba(255,248,225,0.6);
    }
    &:active{
        transform: none !important;
        // Effet de clic sans dépalcement
        background:
        linear-gradient(135deg, #c9a732 0%, #b8962e 50%, #c9a732 100%);
        box-shadow: 0 2px rgba(0,0,0,0.4),
        inset 0 2px 4px rgba(0,0,0,0.2);
    }
    &:disabled{
        opacity: 0.6;
        filter: grayscale(0.3);
        transform: none !important;
    }

    //Supprimer l'effet de brillance mobile pour eviter les problemes

    &::before{
        display: none;
    }
}

//Correction spécifiques pour les sélécteurs de héros
.hero-selector{
    &:focus{
        transform: none;
    }
}

//Animations de combat plus subtiles
@keyframes defendPulse{
    0%, 100%{
        opacity: 1;
        box-shadow: 0 0 0 0 rgba($info, 0.4);
    }
    50%{
        opacity: 0.8;
        box-shadow: 0 0 0 10px rgba($info, 0.1);
    }
}

@keyframes victoryGlow{
    0%, 100% {
        box-shadow: 0 0 20px rgba($success, 0.3);
    }
    50%{
        box-shadow: 0 0 30px rgba($success, 0.6),
        0 0 50px rgba($success, 0.3);
    }
}

@keyframes defeatFade{
    0%{
        opacity: 1;
        filter: grayscale(0);
    }
    100%{
        opacity: 0.4;
        filter: grayscale(0.8);
    }
}
    @keyframes healthGlint {
        0%{left: -100%}
        100%{left: 100%;}
    }
